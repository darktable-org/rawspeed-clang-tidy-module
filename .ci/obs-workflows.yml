master:
  steps:
    - configure_repositories:
        project: OBS:Server:Unstable:CI
        repositories:
          - name: Debian_Testing
            architectures:
              - x86_64
          - name: Debian_Unstable
            architectures:
              - x86_64
    - trigger_services:
        project: graphics:darktable:master
        package: rawspeed-clang-tidy-module
  filters:
    event: push
    branches:
      only:
        - master
pr:
  steps:
    - branch_package:
        source_project: graphics:darktable:master
        source_package: rawspeed-clang-tidy-module
        target_project: graphics:darktable:github
  filters:
    event: pull_request
